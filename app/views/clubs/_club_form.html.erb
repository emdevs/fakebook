<%# dont forget to add form errors later %>

<%=form_with model: club do |form|%>
    <div class="club-form p-3 my-2 bg-light">
        <h3 class=""><%=form_title%></h3>

        <div class="form-group my-2">
            <%=form.label :name%>
            <%=form.text_field :name, class:"form-control"%>
            
            <%unless club.errors[:name].empty?%>
                <div class="alert alert-danger p-0">
                    <%club.errors[:name].each do |msg|%>
                        <li class="px-2"><%=msg%></li>
                    <%end%>
                </div>
            <%end%>
        </div>

        <div class="form-group my-2">
            <%=form.label :description%>
            <%=form.text_area :description, class: "form-control"%>
            
            <%unless club.errors[:description].empty?%>
                <div class="alert alert-danger p-0">
                    <%club.errors[:description].each do |msg|%>
                        <li class="px-2"><%=msg%></li>
                    <%end%>
                </div>
            <%end%>
        </div>

        <div class="form-group my-2">
            <%=form.label :capacity%>
            <%=form.number_field :capacity, class:"form-control"%>
            <small class="form-text text-muted">10-50 members allowed</small>
            
            <%unless club.errors[:capacity].empty?%>
                <div class="alert alert-danger p-0">
                    <%club.errors[:capacity].each do |msg|%>
                        <li class="px-2"><%=msg%></li>
                    <%end%>
                </div>
            <%end%>
        </div>

        <div class="form-group my-2">
            <%=form.label :image%>
            <%=form.file_field :image, class: "form-control", direct_upload: true%>
            <small class="form-text text-muted">(Optional)</small>

            <%unless club.errors[:image].empty?%>
                <div class="alert alert-danger p-0">
                    <%club.errors[:image].each do |msg|%>
                        <li class="px-2"><%=msg%></li>
                    <%end%>
                </div>
            <%end%>
        </div>

        <%=form.hidden_field :owner_id, value: current_user.id%>

        <%=form.submit "Save", class: "submit-button w-100 text-white border p-2 mt-3"%>
    </div>
<%end%>