{"ast":null,"code":"import consumer from \"./consumer\"; //its like consumer isnt even subscribed doesnt matter if subsribes tow rong channel,\n//issue is it isnt subscribing at ALL\n//will chatroom model info be passed here? in params etc?\n//might need to specify room in chatroom channel \n\nconsumer.subscriptions.create({\n  channel: \"ChatroomChannel\",\n  club_id: 4\n}, {\n  connected: function connected() {\n    console.log(\"connected!\");\n  },\n  received: function received(data) {\n    console.log(data);\n    this.appendLine(data);\n  },\n  appendLine: function appendLine(data) {\n    var html = this.createLine(data); // const element = document.querySelector(\"[data-chat-room='chatroom-1']\")\n\n    var element = document.getElementById(\"chatroom-1\");\n    element.insertAdjacentHTML(\"beforeend\", html);\n  },\n  createLine: function createLine(data) {\n    return \"\\n            <div class=\\\"message\\\">\\n                <img src=\\\"\".concat(data[\"img\"], \"\\\" alt=\\\"user profile pic\\\">\\n                <div class=\\\"text\\\">\\n                    <p class=\\\"name\\\">\").concat(data[\"user\"][\"name\"], \"</p>\\n                    <p><%=msg.message%>\").concat(data[\"message\"][\"message\"], \"</p>\\n                </div>\\n            </div>\\n        \");\n  }\n}); // $(document).on(\"turbolinks:load\", function() {\n// })","map":{"version":3,"sources":["/home/emmy/fakebook/app/javascript/channels/chatroom_channel.js"],"names":["consumer","subscriptions","create","channel","club_id","connected","console","log","received","data","appendLine","html","createLine","element","document","getElementById","insertAdjacentHTML"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,YAArB,C,CACA;AACA;AACA;AAEA;;AACAA,QAAQ,CAACC,aAAT,CAAuBC,MAAvB,CAA8B;AAAEC,EAAAA,OAAO,EAAE,iBAAX;AAA8BC,EAAAA,OAAO,EAAE;AAAvC,CAA9B,EAA0E;AACtEC,EAAAA,SADsE,uBAC3D;AACPC,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACH,GAHqE;AAKtEC,EAAAA,QALsE,oBAK7DC,IAL6D,EAKvD;AACXH,IAAAA,OAAO,CAACC,GAAR,CAAYE,IAAZ;AACA,SAAKC,UAAL,CAAgBD,IAAhB;AACH,GARqE;AAUtEC,EAAAA,UAVsE,sBAU3DD,IAV2D,EAUrD;AACb,QAAME,IAAI,GAAG,KAAKC,UAAL,CAAgBH,IAAhB,CAAb,CADa,CAEb;;AACA,QAAMI,OAAO,GAAGC,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAAhB;AACAF,IAAAA,OAAO,CAACG,kBAAR,CAA2B,WAA3B,EAAwCL,IAAxC;AACH,GAfqE;AAiBtEC,EAAAA,UAjBsE,sBAiB3DH,IAjB2D,EAiBrD;AACb,uFAEoBA,IAAI,CAAC,KAAD,CAFxB,uHAI8BA,IAAI,CAAC,MAAD,CAAJ,CAAa,MAAb,CAJ9B,0DAKiCA,IAAI,CAAC,SAAD,CAAJ,CAAgB,SAAhB,CALjC;AASH;AA3BqE,CAA1E,E,CAgCA;AAEA","sourcesContent":["import consumer from \"./consumer\"\n//its like consumer isnt even subscribed doesnt matter if subsribes tow rong channel,\n//issue is it isnt subscribing at ALL\n//will chatroom model info be passed here? in params etc?\n\n//might need to specify room in chatroom channel \nconsumer.subscriptions.create({ channel: \"ChatroomChannel\", club_id: 4 }, {\n    connected(){\n        console.log(\"connected!\");\n    },\n\n    received(data) {\n        console.log(data);\n        this.appendLine(data)\n    },\n\n    appendLine(data) {\n        const html = this.createLine(data);\n        // const element = document.querySelector(\"[data-chat-room='chatroom-1']\")\n        const element = document.getElementById(\"chatroom-1\");\n        element.insertAdjacentHTML(\"beforeend\", html)\n    },\n\n    createLine(data) {\n        return `\n            <div class=\"message\">\n                <img src=\"${data[\"img\"]}\" alt=\"user profile pic\">\n                <div class=\"text\">\n                    <p class=\"name\">${data[\"user\"][\"name\"]}</p>\n                    <p><%=msg.message%>${data[\"message\"][\"message\"]}</p>\n                </div>\n            </div>\n        `\n    }\n})\n\n\n\n// $(document).on(\"turbolinks:load\", function() {\n    \n// })\n"]},"metadata":{},"sourceType":"module"}