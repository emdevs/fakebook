{"ast":null,"code":"import consumer from \"./consumer\"; //its like consumer isnt even subscribed doesnt matter if subsribes tow rong channel,\n//issue is it isnt subscribing at ALL\n//will chatroom model info be passed here? in params etc?\n//might need to specify room in chatroom channel \n\nconsumer.subscriptions.create({\n  channel: \"ChatroomChannel\",\n  club_id: 4\n}, {\n  connected: function connected() {\n    //this is never called.\n    console.log(\"connected to chat room!\");\n  },\n  received: function received(data) {\n    console.log(data);\n    this.appendLine(data);\n  },\n  appendLine: function appendLine(data) {\n    console.log(\"appending data\");\n    var html = this.createLine(data); // const element = document.querySelector(\"[data-chat-room='chatroom-1']\")\n\n    var element = document.getElementById(\"chatroom-1\");\n    element.insertAdjacentHTML(\"beforeend\", html);\n  },\n  createLine: function createLine(data) {\n    return \"\\n            <article class=\\\"chat-line\\\">\\n            <span class=\\\"speaker\\\">\".concat(data[\"sent_by\"], \"</span>\\n            <span class=\\\"body\\\">\").concat(data[\"body\"], \"</span>\\n            </article>\\n        \");\n  }\n}); // $(document).on(\"turbolinks:load\", function() {\n// })","map":{"version":3,"sources":["/home/emmy/fakebook/app/javascript/channels/chatroom_channel.js"],"names":["consumer","subscriptions","create","channel","club_id","connected","console","log","received","data","appendLine","html","createLine","element","document","getElementById","insertAdjacentHTML"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,YAArB,C,CACA;AACA;AACA;AAEA;;AACAA,QAAQ,CAACC,aAAT,CAAuBC,MAAvB,CAA8B;AAAEC,EAAAA,OAAO,EAAE,iBAAX;AAA8BC,EAAAA,OAAO,EAAE;AAAvC,CAA9B,EAA0E;AACtEC,EAAAA,SADsE,uBAC3D;AACP;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACH,GAJqE;AAMtEC,EAAAA,QANsE,oBAM7DC,IAN6D,EAMvD;AACXH,IAAAA,OAAO,CAACC,GAAR,CAAYE,IAAZ;AACA,SAAKC,UAAL,CAAgBD,IAAhB;AACH,GATqE;AAWtEC,EAAAA,UAXsE,sBAW3DD,IAX2D,EAWrD;AACbH,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACA,QAAMI,IAAI,GAAG,KAAKC,UAAL,CAAgBH,IAAhB,CAAb,CAFa,CAGb;;AACA,QAAMI,OAAO,GAAGC,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAAhB;AACAF,IAAAA,OAAO,CAACG,kBAAR,CAA2B,WAA3B,EAAwCL,IAAxC;AACH,GAjBqE;AAmBtEC,EAAAA,UAnBsE,sBAmB3DH,IAnB2D,EAmBrD;AACb,sGAE4BA,IAAI,CAAC,SAAD,CAFhC,uDAGyBA,IAAI,CAAC,MAAD,CAH7B;AAMH;AA1BqE,CAA1E,E,CA+BA;AAEA","sourcesContent":["import consumer from \"./consumer\"\n//its like consumer isnt even subscribed doesnt matter if subsribes tow rong channel,\n//issue is it isnt subscribing at ALL\n//will chatroom model info be passed here? in params etc?\n\n//might need to specify room in chatroom channel \nconsumer.subscriptions.create({ channel: \"ChatroomChannel\", club_id: 4 }, {\n    connected(){\n        //this is never called.\n        console.log(\"connected to chat room!\");\n    },\n\n    received(data) {\n        console.log(data);\n        this.appendLine(data)\n    },\n\n    appendLine(data) {\n        console.log(\"appending data\");\n        const html = this.createLine(data);\n        // const element = document.querySelector(\"[data-chat-room='chatroom-1']\")\n        const element = document.getElementById(\"chatroom-1\");\n        element.insertAdjacentHTML(\"beforeend\", html)\n    },\n\n    createLine(data) {\n        return `\n            <article class=\"chat-line\">\n            <span class=\"speaker\">${data[\"sent_by\"]}</span>\n            <span class=\"body\">${data[\"body\"]}</span>\n            </article>\n        `\n    }\n})\n\n\n\n// $(document).on(\"turbolinks:load\", function() {\n    \n// })\n"]},"metadata":{},"sourceType":"module"}